!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/http"),require("rxjs/Observable"),require("rxjs/add/operator/catch"),require("rxjs/add/operator/map"),require("marked"),require("prismjs"),require("prismjs/prism"),require("prismjs/components/prism-c"),require("prismjs/components/prism-cpp"),require("prismjs/components/prism-csharp"),require("prismjs/components/prism-css"),require("prismjs/components/prism-diff"),require("prismjs/components/prism-java"),require("prismjs/components/prism-javascript"),require("prismjs/components/prism-perl"),require("prismjs/components/prism-php"),require("prismjs/components/prism-python"),require("prismjs/components/prism-sass"),require("prismjs/components/prism-scss"),require("prismjs/components/prism-typescript")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/http","rxjs/Observable","rxjs/add/operator/catch","rxjs/add/operator/map","marked","prismjs","prismjs/prism","prismjs/components/prism-c","prismjs/components/prism-cpp","prismjs/components/prism-csharp","prismjs/components/prism-css","prismjs/components/prism-diff","prismjs/components/prism-java","prismjs/components/prism-javascript","prismjs/components/prism-perl","prismjs/components/prism-php","prismjs/components/prism-python","prismjs/components/prism-sass","prismjs/components/prism-scss","prismjs/components/prism-typescript"],t):t((e.ngx=e.ngx||{},e.ngx.markdown={}),e.ng.core,e.ng.http,e.Rx,null,null,e.marked,e.prismjs)}(this,function(e,t,r,n,o,s,i,p){"use strict";var a=function(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},c=function(){function e(){}return e.prototype.transform=function(e,t){return"string"!=typeof t?(console.error("LanguagePipe has been invoked with an invalid parameter ["+t+"]"),e):"```"+t+"\n"+e+"\n```"},e=a([t.Pipe({name:"language"})],e)}(),m=function(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e){this.http=e}return e.prototype.getSource=function(e){return this.http.get(e).map(this.extractData).catch(this.handleError)},e.prototype.extractData=function(e){return e.text()||""},e.prototype.handleError=function(e){var t;if(e instanceof r.Response){var o=e.json()||"",s=o.error||JSON.stringify(o);t=e.status+" - "+(e.statusText||"")+" "+s}else t=e.message?e.message:e.toString();return console.error(t),n.Observable.throw(t)},e=m([t.Injectable(),l("design:paramtypes",[r.Http])],e)}(),d=function(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=i,g=function(){function e(e,t){this.element=e,this.markdownService=t,this.isTargetBlankLinks=!1}return r=e,e.prototype.ngAfterViewInit=function(){if(this.isTargetBlankLinks){var e=new h.Renderer;e.link=r.addTargetBlank,h.setOptions({renderer:e})}this.data?this.handleData():this.src?this.handleSrc():this.handleRaw(this.element.nativeElement.innerHTML)},e.prototype.ngOnChanges=function(e){"data"in e?this.handleData():"src"in e&&this.handleSrc()},e.prototype.handleData=function(){this.handleRaw(this.data)},e.prototype.handleSrc=function(){var e=this,t=this.src?this.src.split(".").splice(-1).join():null;this.markdownService.getSource(this.src).subscribe(function(r){var n="md"!==t?"```"+t+"\n"+r+"\n```":r;e.handleRaw(n)})},e.prototype.handleRaw=function(e){var t=this.prepare(e);this.element.nativeElement.innerHTML=h(t),p.highlightAll(!1)},e.prototype.prepare=function(e){if(!e)return"";var t;return e.replace(/\&gt;/g,">").split("\n").map(function(e){return e.length>0&&isNaN(t)&&(t=e.search(/\S|$/)),t?e.substring(t):e}).join("\n")},e.addTargetBlank=function(e,t,r){var n;return n='<a href="'+e+'"',n+=' target="_blank"',t&&(n+=' title="'+t+'"'),n+">"+r+"</a>"},d([t.Input(),f("design:type",String)],e.prototype,"data",void 0),d([t.Input(),f("design:type",String)],e.prototype,"src",void 0),d([t.Input(),f("design:type",Object)],e.prototype,"isTargetBlankLinks",void 0),e=r=d([t.Component({selector:"markdown, [markdown]",template:"<ng-content></ng-content>",styles:[":host /deep/ table{border-spacing:0;border-collapse:collapse;margin-bottom:16px}:host /deep/ table td,:host /deep/ table th{padding:6px 13px;border:1px solid #ddd}:host /deep/ table tr:nth-child(2n){background-color:rgba(0,0,0,.03)}:host /deep/ blockquote{padding:0 1em;color:rgba(0,0,0,.535);border-left:.25em solid rgba(0,0,0,.11)}"]}),f("design:paramtypes",[t.ElementRef,u])],e);var r}(),j=function(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var p=e.length-1;p>=0;p--)(o=e[p])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i},y=function(){function e(){}return n=e,e.forRoot=function(){return{ngModule:n,providers:[u]}},e.forChild=function(){return{ngModule:n}},e=n=j([t.NgModule({exports:[g,c],imports:[r.HttpModule],declarations:[g,c]})],e);var n}();e.LanguagePipe=c,e.MarkdownComponent=g,e.MarkdownModule=y,e.MarkdownService=u,Object.defineProperty(e,"__esModule",{value:!0})});